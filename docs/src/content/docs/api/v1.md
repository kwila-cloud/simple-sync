---
title: v1 API
description: Complete API documentation for Simple Sync v1 endpoints
---

## Authentication

All endpoints (except `/api/v1/auth/token` and `/api/v1/health`) require authentication via JSON Web Token (JWT) passed in the `Authorization` header. `/api/v1/auth/token` require authentication via username and password.

## Events

### `GET /api/v1/events`

*   **Purpose:** Retrieve the authoritative event history.
*   **Method:** GET
*   **Request:**
    *   No parameters
*   **Response:**
    *   Success (200 OK): A JSON array of event objects.
    *   Unauthorized (401 Unauthorized):  If the user is not authenticated.
*   **Example Request:**

    ```
    GET /api/v1/events
    Authorization: Bearer <JWT>
    ```

*   **Example Response:**

    ```json
    [
        {
            "uuid": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
            "timestamp": 1678886400,
            "user": "user.123",
            "item": "task.456",
            "action": "create",
            "payload": "{}"
        },
        {
            "uuid": "b2c3d4e5-f6a7-8901-2345-67890abcdef0",
            "timestamp": 1678886401,
            "user": "user.123",
            "item": "task.456",
            "action": "update",
            "payload": "{\"title\": \"New Title\"}"
        }
    ]
    ```

### `POST /api/v1/events`

*   **Purpose:** Push new events from the client to the server.
*   **Method:** POST
*   **Request:**
    *   A JSON array of event objects representing the new events.
*   **Response:**
    *   Success (200 OK): A JSON array of event objects representing the *new* authoritative event history (after the diff has been applied and ACL validation).
    *   Unauthorized (401 Unauthorized): If the user is not authenticated.
*   **ACL Validation:** All incoming events are evaluated against current ACL. Events that violate the ACL are filtered out and not added to the history. See the [ACL documentation](/simple-sync/acl) for details.
*   **Example Request:**

    ```
    POST /api/v1/events
    Authorization: Bearer <JWT>
    Content-Type: application/json

    [
        {
            "uuid": "c3d4e5f6-a7b8-9012-3456-7890abcdef01",
            "timestamp": 1678886402,
            "user": "user.123",
            "item": "item.789",
            "action": "create",
            "payload": "{}"
        }
    ]
    ```

*   **Example Response:**

    ```json
    [
        {
            "uuid": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
            "timestamp": 1678886400,
            "user": "user.123",
            "item": "item.456",
            "action": "create",
            "payload": "{}"
        },
        {
            "uuid": "b2c3d4e5-f6a7-8901-2345-67890abcdef0",
            "timestamp": 1678886401,
            "user": "user.123",
            "item": "item.456",
            "action": "update",
            "payload": "{\"title\": \"New Title\"}"
        },
        {
            "uuid": "c3d4e5f6-a7b8-9012-3456-7890abcdef01",
            "timestamp": 1678886402,
            "user": "user.123",
            "item": "item.789",
            "action": "create",
            "payload": "{}"
        }
    ]
    ```

## Health Check

### `GET /api/v1/health`

*   **Purpose:** Check the health status of the service.
*   **Method:** GET
*   **Request:** None
*   **Response:**
    *   Success (200 OK): A JSON object containing the service health information.
*   **Example Request:**

    ```
    GET /api/v1/health
    ```

*   **Example Response:**

    ```json
    {
        "status": "healthy",
        "timestamp": "2025-09-22T08:14:09Z",
        "version": "0.1.0",
        "uptime": 123
    }
    ```
